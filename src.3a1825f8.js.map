{"version":3,"sources":["src/index.js"],"names":["fileInput","document","getElementById","fileSelect","drop","e","stopPropagation","preventDefault","files","dataTransfer","clearImgList","handleFiles","stopEvent","content","contentAction","querySelector","nodeToReplace","length","type","startsWith","img","createElement","src","window","URL","createObjectURL","classList","add","onload","revokeObjectURL","replaceChild","oit","i","divImg","id","appendChild","imgList","querySelectorAll","console","log","forEach","imgDiv","remove","addEventListener","click","target"],"mappings":";;;AA4EC,aA5ED,QAAA,gBAEA,IAAMA,EAAYC,SAASC,eAAe,aACpCC,EAAaF,SAASC,eAAe,cAiB3C,SAASE,EAAKC,GACZA,EAAEC,kBACFD,EAAEE,iBACIC,IAAAA,EAAQH,EAAEI,aAAaD,MAC7BE,IACAC,EAAYH,GAEd,SAASI,EAAUP,GACjBA,EAAEC,kBACFD,EAAEE,iBAEJ,SAASI,EAAYH,GACbK,IAAAA,EAAUZ,SAASC,eAAe,WAClCY,EAAgBb,SAASc,cAAc,mBACvCC,EACc,OAAlBF,EACIA,EACAb,SAASc,cAAc,iBACzBP,GAAAA,EAAMS,OAAS,GAAKT,EAAM,GAAGU,KAAKC,WAAW,UAAW,CACpDC,IAAAA,EAAMnB,SAASoB,cAAc,OACnCD,EAAIE,IAAMC,OAAOC,IAAIC,gBAAgBjB,EAAM,IAC3CY,EAAIM,UAAUC,IAAI,gBAClBP,EAAIQ,OAAS,WACXL,OAAOC,IAAIK,gBAAgB,KAAKP,MAElCT,EAAQiB,aAAaV,EAAKJ,GAGxBR,GAAAA,EAAMS,OAAS,EAGZ,IADCc,IAAAA,EAAM9B,SAASc,cAAc,QAC1BiB,EAAI,EAAGA,EAAIxB,EAAMS,OAAQe,IAC5BxB,GAAAA,EAAMwB,GAAGd,KAAKC,WAAW,UAAW,CAChCc,IAAAA,EAAShC,SAASoB,cAAc,OACtCY,EAAOC,GAAK,WACNd,IAAAA,EAAMnB,SAASoB,cAAc,OACnCD,EAAIE,IAAMC,OAAOC,IAAIC,gBAAgBjB,EAAMwB,IAC3CZ,EAAIM,UAAUC,IAAI,aAClBP,EAAIQ,OAAS,WACXL,OAAOC,IAAIK,gBAAgB,KAAKP,MAElCW,EAAOE,YAAYf,GACnBW,EAAII,YAAYF,IAMxB,SAASvB,IACD0B,IAAAA,EAAUnC,SAASoC,iBAAiB,aAC1CC,QAAQC,IAAIH,EAAQnB,QAChBmB,EAAQnB,OAAS,GACnBmB,EAAQI,QAAQ,SAAAC,GACdA,EAAOC,WApEbvC,EAAWwC,iBAAiB,QAAS,SAAAtC,GACnCL,EAAU4C,UAEZzC,EAAWwC,iBAAiB,YAAa/B,GAAW,GACpDT,EAAWwC,iBAAiB,WAAY/B,GAAW,GACnDT,EAAWwC,iBAAiB,OAAQvC,GAAM,GAC1CJ,EAAU2C,iBACR,SACA,SAAAtC,GACEK,IACAC,EAAYN,EAAEwC,OAAOrC,SAEvB","file":"src.3a1825f8.js","sourceRoot":"..","sourcesContent":["import \"./styles.css\";\n\nconst fileInput = document.getElementById(\"fileInput\");\nconst fileSelect = document.getElementById(\"fileSelect\");\n\nfileSelect.addEventListener(\"click\", e => {\n  fileInput.click();\n});\nfileSelect.addEventListener(\"dragenter\", stopEvent, false);\nfileSelect.addEventListener(\"dragover\", stopEvent, false);\nfileSelect.addEventListener(\"drop\", drop, false);\nfileInput.addEventListener(\n  \"change\",\n  e => {\n    clearImgList();\n    handleFiles(e.target.files);\n  },\n  false\n);\n\nfunction drop(e) {\n  e.stopPropagation();\n  e.preventDefault();\n  const files = e.dataTransfer.files;\n  clearImgList();\n  handleFiles(files);\n}\nfunction stopEvent(e) {\n  e.stopPropagation();\n  e.preventDefault();\n}\nfunction handleFiles(files) {\n  const content = document.getElementById(\"content\");\n  const contentAction = document.querySelector(\"#content-action\");\n  const nodeToReplace =\n    contentAction !== null\n      ? contentAction\n      : document.querySelector(\".uploaded-img\");\n  if (files.length > 0 && files[0].type.startsWith(\"image/\")) {\n    const img = document.createElement(\"img\");\n    img.src = window.URL.createObjectURL(files[0]);\n    img.classList.add(\"uploaded-img\");\n    img.onload = function() {\n      window.URL.revokeObjectURL(this.src);\n    };\n    content.replaceChild(img, nodeToReplace);\n  }\n\n  if (files.length > 1) {\n    // where oit is other image thumbnails\n    const oit = document.querySelector(\"#oit\");\n    for (let i = 1; i < files.length; i++) {\n      if (files[i].type.startsWith(\"image/\")) {\n        const divImg = document.createElement(\"div\");\n        divImg.id = \"img-list\";\n        const img = document.createElement(\"img\");\n        img.src = window.URL.createObjectURL(files[i]);\n        img.classList.add(\"img-thumb\");\n        img.onload = function() {\n          window.URL.revokeObjectURL(this.src);\n        };\n        divImg.appendChild(img);\n        oit.appendChild(divImg);\n      }\n    }\n  }\n}\n\nfunction clearImgList() {\n  const imgList = document.querySelectorAll(\"#img-list\");\n  console.log(imgList.length);\n  if (imgList.length > 0) {\n    imgList.forEach(imgDiv => {\n      imgDiv.remove();\n    });\n  }\n}\n"]}